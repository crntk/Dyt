@using Dyt.Contracts.About.Responses
@{
    ViewData["Title"] = "Hakkýmda";
    var aboutSection = ViewBag.AboutSection as AboutSectionDto;
    var experiences = ViewBag.Experiences as List<ExperienceDto> ?? new List<ExperienceDto>();
    var certificates = ViewBag.Certificates as List<CertificateDto> ?? new List<CertificateDto>();
}
<style>
  :root{ --brand:#4CAF50; --brand-orange:#FF9800; --pink:#e91e63 }
  
  /* Hero section with animated gradient */
  .about-hero{
    position:relative;
    overflow:hidden;
    background:
      radial-gradient(1200px 480px at 20% -10%, rgba(76,175,80,.18), transparent),
      radial-gradient(900px 360px at 80% -10%, rgba(255,152,0,.15), transparent);
    padding:64px 0 48px;
  }
  .about-hero:before{
    content:"";
    position:absolute;
    inset:-20%;
    background:
      radial-gradient(rgba(76,175,80,.15) 1px, transparent 1.5px),
      radial-gradient(rgba(255,152,0,.08) 1px, transparent 1.5px);
    background-size:32px 32px, 64px 64px;
  background-position:0 0, 16px 16px;
    opacity:.4;
    animation:dotMove 25s linear infinite;
  }
  @@keyframes dotMove{from{transform:translate(0,0)}to{transform:translate(32px,32px)}}
  
  /* Cards */
  .about-card{
    border-radius:18px;
    border:1px solid rgba(76,175,80,.2);
    background:#fff;
    box-shadow:0 12px 35px rgba(0,0,0,.08);
    transition:transform .3s ease, box-shadow .3s ease;
  }
  .about-card:hover{transform:translateY(-5px);box-shadow:0 18px 50px rgba(0,0,0,.12)}
  
  /* Timeline */
  .timeline{position:relative; --pad:64px; --line-x:28px; --dot:16px; padding-left:var(--pad)}
  .timeline:before{
    content:"";
    position:absolute;
    left:var(--line-x);
    top:0;
    bottom:0;
    width:3px;
    background:linear-gradient(180deg, rgba(76,175,80,.6), rgba(255,152,0,.4));
    border-radius:999px;
  }
  .timeline-item{position:relative;margin:0 0 32px;min-height:34px}
  .timeline-item:before{
    content:"";
    position:absolute;
    left:calc(var(--line-x) - var(--pad) - (var(--dot) / 2));
    top:8px;
    width:var(--dot);
    height:var(--dot);
    border-radius:50%;
 background:linear-gradient(135deg, #4CAF50, #81C784);
    border:3px solid #fff;
    box-shadow:0 0 0 8px rgba(76,175,80,.15), 0 4px 12px rgba(76,175,80,.25);
  }
  .timeline-item:last-child{margin-bottom:0}
  
  /* Stats cards */
  .stat-card{
    text-align:center;
    padding:24px 16px;
    border-radius:16px;
    background:linear-gradient(135deg, rgba(76,175,80,.1), rgba(255,152,0,.08));
    border:1px solid rgba(76,175,80,.2);
    transition:all .3s ease;
  }
  .stat-card:hover{
    transform:translateY(-5px);
 box-shadow:0 12px 30px rgba(76,175,80,.2);
  }
  .stat-number{
    font-size:42px;
    font-weight:800;
 background:linear-gradient(90deg, #4CAF50, #81C784, #FF9800);
    -webkit-background-clip:text;
 background-clip:text;
    color:transparent;
    line-height:1;
  }
  .stat-label{font-size:14px;color:#666;margin-top:8px;font-weight:600}
  
  /* Certificate cards */
  .cert-card{
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:12px 18px;
    border-radius:12px;
    background:linear-gradient(135deg, #4CAF50, #81C784);
  color:#fff;
    font-weight:700;
    box-shadow:0 8px 20px rgba(76,175,80,.3);
    margin:8px 4px;
transition:all .3s ease;
}
  .cert-card:hover{
    transform:translateY(-3px) scale(1.05);
    box-shadow:0 12px 30px rgba(76,175,80,.4);
  }
  .cert-icon{font-size:24px}
  
  /* Reveal animations */
  [data-reveal]{opacity:0;transform:translateY(30px);transition:opacity .6s ease, transform .6s ease}
  [data-reveal].in{opacity:1;transform:translateY(0)}
  
  /* Profile image */
  .profile-img{
    width:100%;
    max-width:280px;
    height:280px;
 border-radius:20px;
    object-fit:cover;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
    border:4px solid #fff;
  }
  
  /* Value cards */
  .value-card{
    padding:24px;
    border-radius:16px;
    border:1px solid rgba(76,175,80,.25);
    background:#fff;
    transition:all .3s ease;
    height:100%;
  }
  .value-card:hover{
    transform:translateY(-5px);
    box-shadow:0 12px 30px rgba(76,175,80,.15);
    border-color:var(--brand);
  }
  .value-icon{
    width:56px;
    height:56px;
    border-radius:14px;
  display:inline-flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(135deg, #4CAF50, #81C784);
    color:#fff;
    font-size:28px;
    margin-bottom:16px;
    box-shadow:0 8px 20px rgba(76,175,80,.3);
  }
  
  /* Markdown içerik stilleri */
  .about-content h1, .about-content h2, .about-content h3,
  .about-content h4, .about-content h5, .about-content h6 {
    font-weight: 700;
    margin-top: 1.5em;
    margin-bottom: 0.75em;
    line-height: 1.3;
  }
  .about-content h1 { font-size: 2em; }
  .about-content h2 { font-size: 1.5em; }
  .about-content h3 { font-size: 1.25em; }
  .about-content p {
  margin-bottom: 1em;
    line-height: 1.7;
  }
  .about-content ul, .about-content ol {
    margin: 1em 0;
    padding-left: 2em;
  }
  .about-content li {
    margin-bottom: 0.5em;
    line-height: 1.6;
  }
  .about-content strong {
    font-weight: 700;
    color: #2c3e50;
  }
  .about-content em {
    font-style: italic;
  }
  .about-content code {
    background: rgba(76,175,80,.1);
    padding: 2px 6px;
    border-radius: 4px;
 font-family: 'Courier New', monospace;
    font-size: 0.9em;
  }
  .about-content blockquote {
    border-left: 4px solid #4CAF50;
    padding-left: 1em;
    margin: 1em 0;
    color: #666;
    font-style: italic;
  }
  .about-content a {
    color: #4CAF50;
    text-decoration: none;
  }
  .about-content a:hover {
    text-decoration: underline;
  }
  .about-content hr {
    border: none;
    border-top: 2px solid rgba(76,175,80,.2);
    margin: 2em 0;
  }
</style>

<!-- Hero -->
<section class="about-hero fv-nobg">
  <div class="container position-relative" style="z-index:1">
    <div class="text-center fv-text" data-reveal>
      <h1 class="display-4 fw-bold mb-3">Hakkýmda</h1>
      <p class="lead mb-0">Bilimsel yaklaþým, kiþiye özel planlar ve sürdürülebilir alýþkanlýklar.</p>
    </div>
  </div>
</section>

<!-- Stats -->
<section class="py-4 fv-nobg" style="background:transparent">
  <div class="container">
    <div class="row g-3" data-reveal>
      <div class="col-6 col-md-3">
        <div class="stat-card fv-surface">
        <div class="stat-number">500+</div>
          <div class="stat-label fv-text">Mutlu Danýþan</div>
</div>
      </div>
      <div class="col-6 col-md-3">
   <div class="stat-card fv-surface">
     <div class="stat-number">5+</div>
          <div class="stat-label fv-text">Yýl Deneyim</div>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="stat-card fv-surface">
     <div class="stat-number">98%</div>
          <div class="stat-label fv-text">Baþarý Oraný</div>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="stat-card fv-surface">
      <div class="stat-number">20+</div>
          <div class="stat-label fv-text">Kurumsal Ýþbirliði</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Main content -->
<div class="container py-5">
  <div class="row g-4 mb-5">
    <div class="col-lg-5" data-reveal>
   <div class="about-card p-4 h-100 fv-surface-strong fv-text">
      @if (aboutSection != null)
        {
      <h2 class="h3 fw-bold mb-4 text-center">@aboutSection.Title</h2>
    <div class="text-center mb-4">
   <img src="/images/profile-placeholder.jpg" alt="Diyetisyen Riyaza Tair" class="profile-img" onerror="this.style.display='none'" />
          </div>
@* HTML içeriðini direkt göster *@
     <div class="about-content">
      @Html.Raw(aboutSection.ContentHtml)
  </div>
   }
    else
        {
     <h2 class="h3 fw-bold mb-4 text-center">Ben Kimim?</h2>
     <div class="text-center mb-4">
   <img src="/images/profile-placeholder.jpg" alt="Diyetisyen Riyaza Tair" class="profile-img" onerror="this.style.display='none'" />
    </div>
          <p>Beslenme ve diyetetik alanýnda eðitimimi tamamladýktan sonra klinik ve bireysel danýþmanlýkta deneyim kazandým.</p>
        }
      </div>
  </div>
    
    <div class="col-lg-7" data-reveal>
      <div class="about-card p-4 h-100 fv-surface-strong fv-text">
        <h2 class="h3 fw-bold mb-4 text-center">Özgeçmiþ & Deneyim</h2>
        
        @if (experiences.Any())
        {
          <div class="timeline">
            @foreach (var exp in experiences.OrderBy(x => x.DisplayOrder))
            {
              <div class="timeline-item">
     <div class="fw-bold h5">@exp.Position</div>
    <div class="text-muted small mb-2">
        @Html.Raw("&#128205;") @exp.Institution<br/>
        @Html.Raw("&#128197;") @exp.StartDate.ToString("MMMM yyyy") - @(exp.IsCurrent ? "Günümüz" : exp.EndDate?.ToString("MMMM yyyy") ?? "")
            </div>
      @if (!string.IsNullOrEmpty(exp.Description))
{
       <p class="mb-0">@exp.Description</p>
      }
    </div>
      }
          </div>
        }
        else
        {
          <div class="timeline">
<div class="timeline-item">
              <div class="fw-bold h5">Diyetisyen – Özel Klinik</div>
    <div class="text-muted small mb-2">@Html.Raw("&#128197;") 2022 - Günümüz</div>
           <p class="mb-0">Bireysel beslenme danýþmanlýðý, sporcu programlarý ve kurumsal wellness hizmetleri.</p>
 </div>
          </div>
        }

   <h5 class="fw-bold mt-4 mb-3">@Html.Raw("&#127942;") Baþarýlar & Sertifikalar</h5>
      <div>
       @if (certificates.Any())
          {
          @foreach (var cert in certificates.OrderBy(x => x.DisplayOrder))
         {
        <span class="cert-card">
          <span class="cert-icon">@Html.Raw("&#127941;&#65039;")</span>
      <span>@cert.Title</span>
    </span>
          }
     }
     else
          {
  <span class="cert-card">
           <span class="cert-icon">@Html.Raw("&#127941;&#65039;")</span>
    <span>Sporcu Beslenmesi Sertifikasý</span>
        </span>
            <span class="cert-card">
   <span class="cert-icon">@Html.Raw("&#128214;")</span>
<span>Klinik Beslenme Eðitimi</span>
       </span>
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Values -->
  <div data-reveal>
    <h2 class="h3 fw-bold mb-4 text-center fv-text">@Html.Raw("&#11088;") Temel Deðerlerim</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="value-card fv-surface-strong fv-text">
       <div class="value-icon">@Html.Raw("&#128300;")</div>
  <h5 class="fw-bold mb-2">Bilimsel Yaklaþým</h5>
    <p class="mb-0 small">Güncel bilimsel araþtýrmalar ve kanýta dayalý beslenme stratejileri.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="value-card fv-surface-strong fv-text">
          <div class="value-icon">@Html.Raw("&#129309;")</div>
 <h5 class="fw-bold mb-2">Empati & Destek</h5>
       <p class="mb-0 small">Her danýþanla güven odaklý, yargýsýz ve destekleyici iliþki.</p>
        </div>
      </div>
      <div class="col-md-4">
     <div class="value-card fv-surface-strong fv-text">
   <div class="value-icon">@Html.Raw("&#9851;&#65039;")</div>
  <h5 class="fw-bold mb-2">Sürdürülebilirlik</h5>
          <p class="mb-0 small">Uzun vadeli yaþam tarzý deðiþiklikleri, kýsa vadeli diyetler deðil.</p>
        </div>
  </div>
      <div class="col-md-4">
        <div class="value-card fv-surface-strong fv-text">
          <div class="value-icon">@Html.Raw("&#127919;")</div>
          <h5 class="fw-bold mb-2">Kiþiselleþtirme</h5>
      <p class="mb-0 small">Her birey benzersizdir; planlar kiþiye özel tasarlanýr.</p>
        </div>
 </div>
      <div class="col-md-4">
  <div class="value-card fv-surface-strong fv-text">
          <div class="value-icon">@Html.Raw("&#128200;")</div>
    <h5 class="fw-bold mb-2">Sürekli Geliþim</h5>
          <p class="mb-0 small">Eðitim ve araþtýrma ile kendimi sürekli geliþtiriyorum.</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="value-card fv-surface-strong fv-text">
          <div class="value-icon">@Html.Raw("&#128154;")</div>
          <h5 class="fw-bold mb-2">Bütünsel Bakýþ</h5>
          <p class="mb-0 small">Fiziksel, mental ve sosyal saðlýðýn tümünü deðerlendiririm.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- CTA -->
  <div class="text-center mt-5" data-reveal>
    <div class="p-4 rounded-4 fv-surface-strong fv-text" style="background:linear-gradient(135deg, rgba(76,175,80,.1), rgba(255,152,0,.08));border:2px dashed rgba(76,175,80,.3)">
      <h3 class="h4 fw-bold mb-3">Birlikte Çalýþalým! @Html.Raw("&#128640;")</h3>
    <p class="mb-3">Hedeflerinize ulaþmak için birlikte bir plan oluþturalým.</p>
      <a asp-controller="Appointment" asp-action="Create" class="btn btn-lg btn-primary me-2">Randevu Al</a>
      <a asp-controller="Contact" asp-action="Index" class="btn btn-lg btn-outline-secondary">Ýletiþime Geç</a>
    </div>
  </div>
</div>

<script>
  // Scroll reveal animation
  (function(){
    const els=[...document.querySelectorAll('[data-reveal]')];
    if(!('IntersectionObserver' in window)){ els.forEach(e=>e.classList.add('in')); return; }
    const io=new IntersectionObserver((entries)=>{
      entries.forEach(en=>{ 
   if(en.isIntersecting){ 
    setTimeout(()=>en.target.classList.add('in'), 100);
          io.unobserve(en.target);
      } 
});
    },{threshold:.1, rootMargin:'0px 0px -50px 0px'});
    els.forEach(e=>io.observe(e));
  })();
  
  // Animate numbers on stats
  (function(){
    const stats = document.querySelectorAll('.stat-number');
    const animateNumber = (el) => {
      const target = el.textContent.replace(/[^0-9]/g, '');
      const suffix = el.textContent.replace(/[0-9]/g, '');
      let current = 0;
      const increment = Math.ceil(target / 50);
      const timer = setInterval(() => {
  current += increment;
    if(current >= target){
          el.textContent = target + suffix;
  clearInterval(timer);
        } else {
  el.textContent = current + suffix;
        }
      }, 30);
    };
    
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          animateNumber(en.target);
       io.unobserve(en.target);
  }
      });
    },{threshold:.5});
    
    stats.forEach(s=>io.observe(s));
  })();
</script>

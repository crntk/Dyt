@using Dyt.Data.Entities.Content
@model BlogPost
@{
    var isPhoto = string.IsNullOrWhiteSpace(Model.Title);
    ViewData["Title"] = isPhoto ? "Gönderi" : Model.Title;
}
<div class="blog-hero light">
  <div class="container">
    @if(!string.IsNullOrWhiteSpace(Model.Title)){
      <h1 class="display-6 fw-bold">@Model.Title</h1>
    }
    <p class="text-muted mb-0">@((Model.PublishDateUtc ?? Model.CreatedAtUtc).ToLocalTime().ToString("dd MMM yyyy"))</p>
  </div>
</div>

<div class="container py-4" style="max-width:900px;">
  <article class="blog-content card shadow-sm p-4">
    @{
      var cover = Model.Media.OrderBy(m=>m.DisplayOrder).FirstOrDefault()?.MediaFile?.Url;
    }
    @if(!string.IsNullOrWhiteSpace(cover)){
      <img src="@cover" alt="@(!string.IsNullOrWhiteSpace(Model.Title)?Model.Title:Model.Summary)" class="img-fluid mb-3" style="width:100%;height:auto;" />
    }
    @if(isPhoto){
      <p class="lead">@Model.Summary</p>
    } else {
      @Html.Raw((string)ViewBag.ContentHtml)
    }
  </article>
</div>
